<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#0a0a14">
    <meta name="description" content="–ì–ª–æ—Ç v7.2 - –£–º–Ω—ã–π –≥–æ–ª–æ—Å–æ–≤–æ–π –ø–æ–º–æ—â–Ω–∏–∫">
    <title>–ì–ª–æ—Ç v7.2</title>
    <link rel="stylesheet" href="style.css">
</head>
<body class="dark-theme">
    <!-- –û—Ñ–ª–∞–π–Ω –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä -->
    <div class="offline-indicator" id="offlineIndicator">
        <span>‚ö†Ô∏è –û—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º</span>
    </div>

    <!-- –§–æ–Ω–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã -->
    <div class="bg-effects" id="bgEffects"></div>

    <!-- –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
    <button class="theme-btn" id="themeBtn" onclick="app.toggleTheme()" title="–°–º–µ–Ω–∏—Ç—å —Ç–µ–º—É">üåì</button>
    <button class="settings-btn" id="settingsBtn" onclick="app.toggleSettings()" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">‚öôÔ∏è</button>

    <!-- –û–≤–µ—Ä–ª–µ–π –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è –º–µ–Ω—é -->
    <div class="overlay" id="overlay" onclick="app.toggleSettings()"></div>

    <!-- –ü–∞–Ω–µ–ª—å –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
    <aside class="settings-panel" id="settingsPanel">
        <div class="settings-header">
            <h2>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
            <button class="close-settings" onclick="app.toggleSettings()">‚úï</button>
        </div>

        <!-- –•–∞—Ä–∞–∫—Ç–µ—Ä -->
        <div class="settings-section">
            <h3>üé≠ –•–∞—Ä–∞–∫—Ç–µ—Ä</h3>
            <div class="personality-grid">
                <button class="personality-btn active" data-personality="friend" onclick="app.setPersonality('friend')">
                    <span class="p-emoji">üêô</span>
                    <span class="p-name">–î—Ä—É–≥</span>
                    <span class="p-desc">–î—Ä—É–∂–µ–ª—é–±–Ω—ã–π –∏ —ç–Ω–µ—Ä–≥–∏—á–Ω—ã–π</span>
                </button>
                <button class="personality-btn" data-personality="sarcastic" onclick="app.setPersonality('sarcastic')">
                    <span class="p-emoji">ü¶ë</span>
                    <span class="p-name">–°–∞—Ä–∫–∞—Å—Ç–∏–∫</span>
                    <span class="p-desc">–° –∏—Ä–æ–Ω–∏–µ–π –∏ –æ—Å—Ç—Ä–æ—É–º–∏–µ–º</span>
                </button>
                <button class="personality-btn" data-personality="wise" onclick="app.setPersonality('wise')">
                    <span class="p-emoji">üê¢</span>
                    <span class="p-name">–ú—É–¥—Ä–µ—Ü</span>
                    <span class="p-desc">–§–∏–ª–æ—Å–æ—Ñ—Å–∫–∏–π –∏ —Å–ø–æ–∫–æ–π–Ω—ã–π</span>
                </button>
                <button class="personality-btn" data-personality="detective" onclick="app.setPersonality('detective')">
                    <span class="p-emoji">üïµÔ∏è</span>
                    <span class="p-name">–î–µ—Ç–µ–∫—Ç–∏–≤</span>
                    <span class="p-desc">–ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –∏ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã–π</span>
                </button>
            </div>
        </div>

        <!-- –ì–æ–ª–æ—Å -->
        <div class="settings-section">
            <h3>üé§ –ì–æ–ª–æ—Å</h3>
            <div class="voice-list">
                <button class="voice-btn-settings active" data-voice="intense" onclick="app.setVoice('intense')">
                    <span class="v-icon">‚ö°</span>
                    <div class="v-info">
                        <span class="v-name">–ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ã–π</span>
                        <span class="v-desc">–ú–æ—â–Ω—ã–π –∏ —á—ë—Ç–∫–∏–π</span>
                    </div>
                </button>
                <button class="voice-btn-settings" data-voice="calm" onclick="app.setVoice('calm')">
                    <span class="v-icon">üåä</span>
                    <div class="v-info">
                        <span class="v-name">–°–ø–æ–∫–æ–π–Ω—ã–π</span>
                        <span class="v-desc">–ú—è–≥–∫–∏–π –∏ —Ä–æ–≤–Ω—ã–π</span>
                    </div>
                </button>
                <button class="voice-btn-settings" data-voice="deep" onclick="app.setVoice('deep')">
                    <span class="v-icon">üé≠</span>
                    <div class="v-info">
                        <span class="v-name">–ì–ª—É–±–æ–∫–∏–π</span>
                        <span class="v-desc">–í–µ—Å–æ–º—ã–π –∏ —Å–µ—Ä—å—ë–∑–Ω—ã–π</span>
                    </div>
                </button>
                <button class="voice-btn-settings" data-voice="friendly" onclick="app.setVoice('friendly')">
                    <span class="v-icon">‚òÄÔ∏è</span>
                    <div class="v-info">
                        <span class="v-name">–î—Ä—É–∂–µ–ª—é–±–Ω—ã–π</span>
                        <span class="v-desc">–¢—ë–ø–ª—ã–π –∏ —Å–≤–µ—Ç–ª—ã–π</span>
                    </div>
                </button>
            </div>
        </div>

        <!-- –î–∞–Ω–Ω—ã–µ -->
        <div class="settings-section">
            <h3>üíæ –î–∞–Ω–Ω—ã–µ</h3>
            <div class="data-actions">
                <button class="data-btn export" onclick="storage.export()">
                    <span>üì•</span> –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
                </button>
                <button class="data-btn import" onclick="storage.import()">
                    <span>üì§</span> –ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
                </button>
                <button class="data-btn clear" onclick="storage.clear()">
                    <span>üóëÔ∏è</span> –û—á–∏—Å—Ç–∏—Ç—å –≤—Å—ë
                </button>
            </div>
        </div>

        <div class="settings-footer">
            <span>–ì–ª–æ—Ç v7.2</span>
        </div>
    </aside>

    <!-- –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <main class="main-container">
        <!-- –®–∞–ø–∫–∞ -->
        <header class="header">
            <div class="avatar-wrapper" id="avatarContainer">
                <div class="avatar-glow"></div>
                <div class="avatar" id="avatar">üêô</div>
                <div class="avatar-status" id="moodBadge">üòä</div>
                <div class="voice-waves" id="voiceWaves">
                    <span></span><span></span><span></span>
                </div>
            </div>
            
            <div class="header-info">
                <div class="status-line">
                    <span class="status-dot"></span>
                    <span class="status-text" id="statusText">–æ–Ω–ª–∞–π–Ω</span>
                </div>
                <h1 class="app-title">–ì–ª–æ—Ç <span class="version">v7.2</span></h1>
                <p class="personality-label" id="personalityLabel">–†–µ–∂–∏–º: –î—Ä—É–≥</p>
            </div>
        </header>

        <!-- –ß–∞—Ç -->
        <div class="chat-container" id="chatContainer">
            <div class="chat-messages" id="chat"></div>
            
            <!-- –ò–≥—Ä–æ–≤–∞—è –ø–∞–Ω–µ–ª—å -->
            <div class="game-panel" id="gameContainer">
                <div class="game-header">
                    <h3>üéÆ –ò–≥—Ä–∞ –∞–∫—Ç–∏–≤–Ω–∞</h3>
                    <span class="game-score" id="gameScore">–°—á—ë—Ç: 0</span>
                </div>
                <div class="game-content" id="gameContent"></div>
            </div>
        </div>

        <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ -->
        <div class="controls">
            <!-- –†–µ–∂–∏–º—ã -->
            <div class="mode-switcher">
                <button class="mode-btn active" data-mode="chat" onclick="app.setMode('chat')">
                    <span>üí¨</span> –ß–∞—Ç
                </button>
                <button class="mode-btn" data-mode="game" onclick="app.setMode('game')">
                    <span>üéÆ</span> –ò–≥—Ä–∞
                </button>
            </div>

            <!-- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è -->
            <div class="quick-actions">
                <button class="quick-chip" onclick="app.quickCommand('—Ä–∞—Å—Å–∫–∞–∂–∏ –æ —Å–µ–±–µ')">üë§ –û —Å–µ–±–µ</button>
                <button class="quick-chip" onclick="app.quickCommand('–ø–æ–≥–æ–¥–∞')">üå§ –ü–æ–≥–æ–¥–∞</button>
                <button class="quick-chip" onclick="app.quickCommand('–∞–Ω–µ–∫–¥–æ—Ç')">üòÑ –ê–Ω–µ–∫–¥–æ—Ç</button>
                <button class="quick-chip" onclick="app.quickCommand('—Å–æ–≤–µ—Ç')">üí° –°–æ–≤–µ—Ç</button>
                <button class="quick-chip" onclick="app.quickCommand('–∏–≥—Ä–∞')">üéÆ –ò–≥—Ä–∞—Ç—å</button>
                <button class="quick-chip" onclick="app.quickCommand('–ø–æ–º–æ–≥–∏')">‚ùì –ü–æ–º–æ—â—å</button>
            </div>

            <!-- –í–≤–æ–¥ -->
            <div class="input-wrapper">
                <div class="text-input-wrapper">
                    <input type="text" id="textInput" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ —á—Ç–æ-–Ω–∏–±—É–¥—å..." 
                           maxlength="500" autocomplete="off">
                    <button class="send-text-btn" onclick="app.sendText()">‚û§</button>
                </div>
                
                <button class="voice-main-btn" id="voiceBtn" onclick="voice.toggle()">
                    <span class="mic-icon">üé§</span>
                    <span class="mic-text">–ì–æ–≤–æ—Ä–∏—Ç—å</span>
                </button>
            </div>

            <p class="input-hint" id="hint">–ù–∞–∂–º–∏—Ç–µ üé§ –¥–ª—è –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ –≤–≤–æ–¥–∞</p>
        </div>
    </main>

    <script src="storage.js"></script>
    <script src="voice.js"></script>
    <script src="games.js"></script>
    <script src="app.js"></script>
</body>
</html>
